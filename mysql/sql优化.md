# 建表阶段
    1.主键字段尽可能小，主键字段索引放内存会占大量内存，查询都会回表，所以id小可以减少内存消耗

# 编写sql阶段
    1.小表驱动大表，from后放小表

    2.where 条件后面能筛越少的条件，越放左边

    3.连接条件放在ON子句中，而不是WHERE子句中。
    ON子句中的条件在连接之前过滤数据，可以减少连接的数据量。
    ON在JOIN之前执行

    4.INNER JOIN > LEFT RIGHT JOIN > FULL JOIN

    5.select 选择需要的列，减少网络传输消耗

    6.大数据量 记得加limit

    7.尽量减少join

# 建立索引阶段
    1.尽量使用联合索引，最左匹配，减少索引量
    2.确保关键列有索引：查询中用于过滤、排序和连接的列应该有索引。
    3.过滤量很少的列可以不建立索引 比如男女 ，非要建立，可以建立联合索引
    4.很长的字段可以用前缀索引
    5.查询字段都包含在索引上就构成索引覆盖，不用回表，效率会高一点

# 分片分区
    1. 确定分表需求
    数据量过大：当单表数据量接近或超过千万甚至亿级记录时，可能会导致查询性能下降，系统资源紧张，这时可以考虑分表。
    业务发展：随着业务的发展，可能需要对某些字段进行垂直拆分，或者当单表中的数据量快速增长，性能接近瓶颈时，考虑水平切分。
    2. 选择分表策略
       2.1 垂直分表
       概念：将不同的业务数据切分到不同的数据库中。
       适用场景：数据量较大但业务关联性较低的场景。
       优势：可以使业务更加清晰，降低耦合度，提升维护和管理的效率。
       2.2 水平分表（或称横向分表）
       概念：将同一张表的数据按照一定的规则切分到多个表中。
       适用场景：数据量较大但业务关联性较高的场景。
       分表策略：
       按时间分表：如按年份、月份或季度分表，适用于按时间维度进行查询的场景。
       按范围分表：根据某个字段的范围将数据分散到不同的表中，如根据用户ID将数据分表。
       按哈希分表：根据某个字段的哈希值将数据分散到不同的表中，可以均匀地将数据分散到不同的表中，避免某个表的数据过大导致性能下降。
    3. 分表实施
    确定分表键：选择合适的字段作为分表键，该字段应具有区分度、稳定性且对业务查询友好。
    设计分表规则：根据业务需求和数据特点，设计合理的分表规则，确保数据能够均匀分布到各个表中。
    创建分表：根据设计的分表规则，创建多个分表，并配置相应的索引和约束。
